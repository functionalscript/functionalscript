const { decToBin } = require('./module.f.mjs').default

module.exports = {
    decToBin: [
        () => {
            const result = decToBin([0n, 0])
            if (result[0] !== 0b0_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000n) { throw result[0].toString(2) }
            if (result[1] !== 0) { throw result[1] }
        },
        () => {
            const result = decToBin([0n, 10])
            if (result[0] !== 0b0_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000n) { throw result[0].toString(2) }
            if (result[1] !== 0) { throw result[1] }
        },
        () => {
            const result = decToBin([0n, -10])
            if (result[0] !== 0b0_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000n) { throw result[0].toString(2) }
            if (result[1] !== 0) { throw result[1] }
        },
        () => {
            const result = decToBin([1n, 0])
            if (result[0] !== 0b1_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000n) { throw result[0].toString(2) }
            if (result[1] !== -52) { throw result[1] }
        },
        () => {
            const result = decToBin([1n, 1])
            if (result[0] !== 0b1_0100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000n) { throw result[0].toString(2) }
            if (result[1] !== -49) { throw result[1] }
        },
        () => {
            const result = decToBin([1000n, -2])
            if (result[0] !== 0b1_0100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000n) { throw result[0].toString(2) }
            if (result[1] !== -49) { throw result[1] }
        },
        () => {
            const result = decToBin([1n, -1])
            if (result[0] !== 0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1010n) { throw result[0].toString(2) } //+1
            if (result[1] !== -56) { throw result[1] }
        },
        () => {
            const result = decToBin([-1n, 0])
            if (result[0] !== -0b1_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000n) { throw result[0].toString(2) }
            if (result[1] !== -52) { throw result[1] }
        },
        () => {
            const result = decToBin([-1n, 1])
            if (result[0] !== -0b1_0100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000n) { throw result[0].toString(2) }
            if (result[1] !== -49) { throw result[1] }
        },
        () => {
            const result = decToBin([-1000n, -2])
            if (result[0] !== -0b1_0100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000n) { throw result[0].toString(2) }
            if (result[1] !== -49) { throw result[1] }
        },
        () => {
            const result = decToBin([-1n, -1])
            if (result[0] !== -0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1010n) { throw result[0].toString(2) } //+1
            if (result[1] !== -56) { throw result[1] }
        },
        () => {
            const result = decToBin([0b10_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0001n, 0]) //54bits (...0.1)
            if (result[0] !== 0b1_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000n) { throw result[0].toString(2) }
            if (result[1] !== 1) { throw result[1] }
        },
        () => {
            const result = decToBin([-0b10_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0011n, 0]) //54bits (...1.1)
            if (result[0] !== -0b1_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0010n) { throw result[0].toString(2) }
            if (result[1] !== 1) { throw result[1] }
        },
        () => {
            const result = decToBin([-0b10_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0001n, 0]) //54bits (...0.1)
            if (result[0] !== -0b1_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000n) { throw result[0].toString(2) }
            if (result[1] !== 1) { throw result[1] }
        },
        () => {
            const result = decToBin([-0b10_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0011n, 0]) //54bits (...1.1)
            if (result[0] !== -0b1_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0010n) { throw result[0].toString(2) }
            if (result[1] !== 1) { throw result[1] }
        },
        () => {
            const result = decToBin([0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0001n, 0]) //55bits (...0.01)
            if (result[0] !== 0b1_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0010n, 0]) //55bits (...0.10)
            if (result[0] !== 0b1_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0110n, 0]) //55bits (...1.10)
            if (result[0] !== 0b1_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0010n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0011n, 0]) //55bits (0.11)
            if (result[0] !== 0b1_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0001n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
    ],
    roundingPositive: [
        () => {
            const result = decToBin([0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0001n, -1])
            // reminder = 0
            // m = 11001100110011001100110011001100110011001100110011001.101
            // rounding up
            if (result[0] !== 0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1010n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0001_0000n, -1])
            // reminder = 0
            // m = 11001100110011001100110011001100110011001100110011010.000
            // rounding down
            if (result[0] !== 0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1010n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0010_0100n, -1])
            // reminder = 0
            // m = 11001100110011001100110011001100110011001100110011010.100
            // rounding down (to even)
            if (result[0] !== 0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1010n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0010_0101n, -1])
            // reminder = 1
            // m = 11001100110011001100110011001100110011001100110011010.100
            // rounding up
            if (result[0] !== 0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1011n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0010_1001n, -1])
            // reminder = 0
            // m = 11001100110011001100110011001100110011001100110011010.101
            // rounding up
            if (result[0] !== 0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1011n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0011_1101n, -1])
            // reminder = 0
            // m = 11001100110011001100110011001100110011001100110011011.001
            // rounding down
            if (result[0] !== 0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1011n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0100_1100n, -1])
            // reminder = 0
            // m = 11001100110011001100110011001100110011001100110011011.100
            // rounding up (to even)
            if (result[0] !== 0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1100n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        }
    ],
    roundingNegative: [
        () => {
            const result = decToBin([-0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0001n, -1])
            // reminder = 0
            // m = -11001100110011001100110011001100110011001100110011001.101
            // rounding down
            if (result[0] !== -0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1010n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([-0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0001_0000n, -1])
            // reminder = 0
            // m = -11001100110011001100110011001100110011001100110011010.000
            // rounding up
            if (result[0] !== -0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1010n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([-0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0010_0100n, -1])
            // reminder = 0
            // m = -11001100110011001100110011001100110011001100110011010.100
            // rounding up (to even)
            if (result[0] !== -0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1010n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([-0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0010_0101n, -1])
            // reminder = 1
            // m = -11001100110011001100110011001100110011001100110011010.100
            // rounding down
            if (result[0] !== -0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1011n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([-0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0010_1001n, -1])
            // reminder = 0
            // m = -11001100110011001100110011001100110011001100110011010.101
            // rounding down
            if (result[0] !== -0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1011n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([-0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0011_1101n, -1])
            // reminder = 0
            // m = -11001100110011001100110011001100110011001100110011011.001
            // rounding up
            if (result[0] !== -0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1011n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        },
        () => {
            const result = decToBin([-0b100_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0100_1100n, -1])
            // reminder = 0
            // m = -11001100110011001100110011001100110011001100110011011.100
            // rounding down (to even)
            if (result[0] !== -0b1_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1001_1100n) { throw result[0].toString(2) }
            if (result[1] !== 2) { throw result[1] }
        }
    ]
}
